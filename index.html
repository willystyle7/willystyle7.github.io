<!DOCTYPE html>

<html lang="en">

<head>
    <meta charset="utf-8" />
    <title>Welcome</title>
    <link rel="stylesheet" href="styles/style.css">
    <script src="scripts/jquery-3.3.1.js"></script>
</head>

<body>
    <p>Learning
        <strong>JQuery</strong> with Simple Twins Calculators Project</p>

    <div id="main">
        <h2>Simple Calculator</h2>

        <input id="Result" type="text" class="input" />
        <div id="keys">
            <div id="FirstRow">
                <button id="ClearAll" type="reset" value="CE" class="clean">CE</button>
            </div>
            <div id="SecondRow">
                <button id="One" type="button" value="1" class="digit">1</button>
                <button id="Two" type="button" value="2" class="digit">2</button>
                <button id="Three" type="button" value="3" class="digit">3</button>
                <button id="Add" type="button" value="+" class="operators">+</button>
            </div>
            <div id="ThirdRow">
                <button id="Four" type="button" value="4" class="digit">4</button>
                <button id="Five" type="button" value="5" class="digit">5</button>
                <button id="six" type="button" value="6" class="digit">6</button>
                <button id="Subtract" type="button" value="-" class="operators">-</button>
            </div>
            <div id="FourthRow">
                <button id="Seven" type="button" value="7" class="digit">7</button>
                <button id="Eight" type="button" value="8" class="digit">8</button>
                <button id="Nine" type="button" value="9" class="digit">9</button>
                <button id="Multiply" type="button" value="*" class="operators">*</button>
            </div>
            <div id="FifthRow">
                <button id="Zero" type="button" value="0" class="digit">0</button>
                <button id="Dot" type="button" value="." class="digit">.</button>
                <button id="Calculate" type="button" value="=" class="operand">=</button>
                <button id="Divide" type="button" value="/" class="operators">/</button>
            </div>
        </div>
    </div>

    <script>
        $("document").ready(function () {
            var key = null;

            $(".clean").click(function () {
                $('.input').val("");
            });

            $(".digit").click(function () {
                var EText = $('#Result').val();
                if (EText != "0") {
                    var val1 = EText;
                    var ButtonVal = $(this);
                    var val2 = ButtonVal.text();
                    var Res = val1 + val2;
                    $('#Result').val(Res);
                } else {
                    $('#Result').val();
                }
            });
            $(function (e) {
                var interRes = null;
                var operator;
                $('.operators').click(function (e) {
                    var value1 = $('#Result').val();
                    if (interRes != null) {
                        var result = ApplyOperation(interRes, value1, operator);
                        interRes = result;
                    } else {
                        interRes = value1;
                    }
                    operator = $(this).text();
                    $('input').val("");
                });
                $('#Calculate').click(function (e) {
                    var op = operator;
                    var res;
                    var value2 = $('#Result').val();
                    if ((value2 != "")) {
                        res = ApplyOperation(interRes, value2, op);
                    } else {
                        res = interRes;
                    }
                    $('#Result').val(res);
                    interRes = null;
                });
            });

            function ApplyOperation(value1, value2, operator) {
                let result;
                let number1 = parseFloat(value1);
                let number2 = parseFloat(value2);
                switch (operator) {
                    case "+":
                        result = number1 + number2;
                        break;
                    case "-":
                        result = number1 - number2;
                        break;
                    case "*":
                        result = number1 * number2;
                        break;
                    case "/":
                        result = number1 / number2;
                        break;
                }
                return result;
            }

        });
    </script>

</body>

</html>